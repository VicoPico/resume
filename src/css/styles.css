:root {
	--bg: #ffffff;
	--text: #2a2a2e;
	--muted: #2a2a2e;
	--icon: #2a2a2e;
	--divider-color: var(--icon);
	--card-border: #eeeeee;
	--border-subtle: #e6e6e6;
	--chart-bubble-fill: rgba(42, 42, 46, 0.15);
	--chart-bubble-stroke: rgba(42, 42, 46, 0.4);
	--chart-bar-fill: rgba(42, 42, 46, 0.45);
	--chart-bar-stroke: rgba(42, 42, 46, 0.7);
	--chart-grid: rgba(42, 42, 46, 0.12);
	--chart-tick: rgba(42, 42, 46, 0.85);
	--icon-filter: none;
	--font-sans:
		'Quicksand', 'Raleway', system-ui, -apple-system, BlinkMacSystemFont,
		'Segoe UI', Roboto, Helvetica, Arial, sans-serif;

	--font-mono:
		'JetBrains Mono', ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
		'Liberation Mono', 'Courier New', monospace;

	--divider-width: 1.5px;
	--divider-column-width: 24px;
	--grid-column-gap: 24px;
	--contact-row-gap: 12px; /* spacing between email + phone rows */
	--contact-icon-gap: 18px;
	--location-offset: 40px;
	--column-edge-offset: 16px;
	--space-h1-h2: 18px;
	--space-h1-h3: 12px;
	--space-h1-h4: 10px;
	--space-h1-p: 16px;
	--space-h2-p: 10px;
	--space-h3-p: 8px;
	--space-h4-p: 8px;
	--space-h4-chart: 12px;
	--space-h3-chart: 14px;
	--space-heading-list: 8px;
	--space-section-item: 16px;
	--space-chart-stack: 56px;
	--space-skill-group: 64px;
	--soft-chart-height: 180px;
	--hard-chart-height: 220px;
	--hard-chart-rows: 17;
	--hard-chart-row-height: 24px;
	--soft-chart-offset-x: 10px;
	--timeline-marker-size: 8px;
	--timeline-marker-offset: 18px;
	--theme-toggle-space: 40px;
	--hard-chart-row-height: 24px;
}

html[data-theme='dark'] {
	--bg: #111114;
	--text: #f2f2f4;
	--muted: #c0c0c7;
	--icon: #e1e1e8;
	--divider-color: var(--icon);
	--card-border: #2a2a2e;
	--border-subtle: #2f2f36;
	--chart-bubble-fill: rgba(225, 225, 232, 0.12);
	--chart-bubble-stroke: rgba(225, 225, 232, 0.5);
	--chart-bar-fill: rgba(225, 225, 232, 0.2);
	--chart-bar-stroke: rgba(225, 225, 232, 0.5);
	--chart-grid: rgba(225, 225, 232, 0.12);
	--chart-tick: rgba(225, 225, 232, 0.85);
	--icon-filter: brightness(0) invert(1);
}

html[data-theme='light'] {
	--bg: #ffffff;
	--text: #2a2a2e;
	--muted: #2a2a2e;
	--icon: #2a2a2e;
	--divider-color: var(--icon);
	--card-border: #eeeeee;
	--border-subtle: #e6e6e6;
	--chart-bubble-fill: rgba(42, 42, 46, 0.15);
	--chart-bubble-stroke: rgba(42, 42, 46, 0.4);
	--chart-bar-fill: rgba(42, 42, 46, 0.45);
	--chart-bar-stroke: rgba(42, 42, 46, 0.7);
	--chart-grid: rgba(42, 42, 46, 0.12);
	--chart-tick: rgba(42, 42, 46, 0.85);
}

* {
	box-sizing: border-box;
}

body {
	margin: 0;
	font-family: var(--font-sans);
	line-height: 1.5;
	color: var(--text);
	background: var(--bg);
	transition:
		background-color 0.2s ease,
		color 0.2s ease;
}

.cv-container {
	max-width: 1080px;
	margin: 0 auto;
	padding: 32px;
}

/* Hide the inline sprite but keep it in the DOM */
.svg-sprite {
	position: absolute;
	width: 0;
	height: 0;
	overflow: hidden;
}

/* Headings: slightly tighter for Quicksand */
h1,
h2,
h3 {
	letter-spacing: -0.015em;
}

h1,
h2,
h3,
h4,
p {
	margin: 0;
}

h1 {
	font-family: 'Raleway';
	font-size: 80px;
	letter-spacing: -0.02em;
}

h2 {
	font-size: 24px;
	letter-spacing: 0.085em;
}

h3 {
	font-size: 20px;
	letter-spacing: 0.085em;
}

h4 {
	font-size: 18px;
	letter-spacing: 0.05em;
}

h1 + h2 {
	margin-top: var(--space-h1-h2);
}

h1 + h3 {
	margin-top: var(--space-h1-h3);
}

h1 + h4 {
	margin-top: var(--space-h1-h4);
}

h1 + p {
	margin-top: var(--space-h1-p);
}

h2 + p {
	margin-top: var(--space-h2-p);
}

h3 + p {
	margin-top: var(--space-h3-p);
}

h4 + p {
	margin-top: var(--space-h4-p);
}

h4 + .chart-container {
	margin-top: var(--space-h4-chart);
}

h3 + .chart-container {
	margin-top: var(--space-h3-chart);
}

h2 + ul,
h3 + ul,
h4 + ul {
	margin-top: var(--space-heading-list);
}

/* ---------------- Shared 3-column split ---------------- */
/* Both header and body use: left | divider | right */
.cv-header,
.cv-body {
	display: grid;
	row-gap: var(--contact-row-gap);
	grid-template-columns: minmax(0, 1fr) var(--divider-column-width) minmax(
			0,
			2fr
		);
	column-gap: var(--grid-column-gap);
	align-items: stretch;
}

/* Shared divider used in header + body */
.page-divider {
	width: var(--divider-width);
	background: var(--divider-color);
	justify-self: center;
	align-self: stretch;
}

/* Header divider: split line with icons embedded */
.header-divider {
	display: contents;
}

.header-divider .divider-seg {
	grid-column: 2;
	width: var(--divider-width);
	background: var(--divider-color);
	border-radius: 2px;
	justify-self: center;
	align-self: stretch;
}

.header-divider .divider-seg.top {
	grid-row: 1;
	margin-bottom: var(--contact-icon-gap);
}

.header-divider .divider-seg.bottom {
	grid-row: 4;
	margin-top: var(--contact-icon-gap);
}

.header-divider .divider-icon-img {
	grid-column: 2;
	justify-self: center;
	align-self: center;
	width: 18px;
	height: 18px;
	display: block;
	filter: var(--icon-filter);
}

.header-divider .divider-icons {
	display: contents;
}

.header-divider .divider-icon-img:nth-child(1) {
	grid-row: 2;
}

.header-divider .divider-icon-img:nth-child(2) {
	grid-row: 3;
}

.header-left {
	grid-column: 1;
	grid-row: 1 / 5;
	display: grid;
	gap: 12px;
	align-content: start;
	align-self: start;
}

/* Right side stacks Title and About vertically */

.header-right {
	display: contents;
}

.header-title {
	grid-column: 3;
	grid-row: 1;
	align-self: start;
	padding-right: var(--theme-toggle-space);
}

.header-title h1 {
	margin: 0;
}

.header-title h3 {
	margin: 0;
}

.about {
	grid-column: 3;
	grid-row: 4;
	border: none;
	padding: 0;
	margin-top: 12px;
}

.theme-toggle {
	grid-column: 3;
	grid-row: 1;
	justify-self: end;
	align-self: start;
	position: relative;
	z-index: 2;
}

#themeToggle {
	border: 1px solid var(--divider-color);
	background: transparent;
	border-radius: 8px;
	padding: 6px;
	cursor: pointer;
	line-height: 0;
	transition: border-color 0.2s ease;
}

#themeToggle:focus-visible {
	outline: 2px solid var(--divider-color);
	outline-offset: 2px;
}

#themeIcon {
	width: 18px;
	height: 18px;
	display: block;
}

html[data-theme='dark'] #themeIcon {
	filter: invert(1) brightness(1.1);
}

.avatar {
	width: 173px;
	height: 173px;
	border: 1px solid var(--divider-color);
	border-radius: 50%;
	background: #f6f6f6;
	justify-self: end;
	align-self: start;
	overflow: hidden;
	display: grid;
	place-items: center;
	margin-right: var(--column-edge-offset);
}

.avatar-img {
	width: 100%;
	height: 100%;
	object-fit: cover;
	display: block;
}

.location {
	display: grid;
	gap: 8px;
	margin-top: var(--location-offset);
	justify-self: end;
	padding-right: var(--column-edge-offset);
}

.location-row {
	display: flex;
	align-items: center;
	gap: 8px;
}

.location-row.location-city {
	justify-content: flex-end;
	text-align: right;
}

.title {
	margin: 0 0 12px;
	color: var(--muted);
}

.quick-contact {
	list-style: none;
	margin: 0;
	padding: 0;
	display: contents;
}

.quick-contact li {
	grid-column: 3;
	line-height: 1.2;
}

.quick-contact li:nth-child(1) {
	grid-row: 2;
}

.quick-contact li:nth-child(2) {
	grid-row: 3;
}

/* Icons */
.icon {
	width: 20px;
	height: 20px;
	display: inline-flex;
	align-items: center;
	justify-content: center;
	flex-shrink: 0;
}

.icon-svg {
	width: 18px;
	height: 18px;
	display: block;
	fill: currentColor;
	color: var(--icon);
}

.icon-img {
	width: 18px;
	height: 18px;
	display: block;
	filter: var(--icon-filter);
}

/* ---------------- Body ---------------- */

.cv-body {
	padding-top: 24px;
}

.skills,
.timeline {
	min-width: 0;
}

.timeline {
	position: relative;
}

.timeline-item h4 {
	position: relative;
}

.timeline-item h4::before {
	content: '';
	position: absolute;
	left: calc(-1 * (var(--grid-column-gap) + (var(--divider-column-width) / 2)));
	top: 50%;
	width: var(--timeline-marker-size);
	height: var(--timeline-marker-size);
	border: 1px solid var(--divider-color);
	border-radius: 50%;
	background: #ffffff;
	transform: translate(-50%, -50%);
	z-index: 2;
}

.skills {
	justify-self: end;
	padding-right: var(--column-edge-offset);
}

#skills-title {
	text-align: right;
}

#skills-title + .professional-skills {
	margin-top: var(--space-section-item);
}

.professional-skills {
	display: grid;
	gap: var(--space-heading-list);
	text-align: right;
}

.professional-skills + .soft-skills {
	margin-top: var(--space-skill-group);
}

.skills-list {
	list-style: none;
	margin: 0;
	padding: 0;
	font-family: var(--font-sans);
	font-size: 14px;
	display: grid;
	gap: 6px;
	justify-items: end;
}

.soft-skills {
	display: grid;
	gap: var(--space-chart-stack);
	text-align: right;
}

.soft-skills h4 {
	text-align: right;
}

.soft-skills + .technical-skills {
	margin-top: var(--space-skill-group);
}

.technical-skills {
	display: grid;
	gap: var(--space-section-item);
	text-align: right;
}

.hard-skill-chart {
	display: grid;
	gap: var(--space-heading-list);
}

.hard-skill-title {
	margin: 0;
	font-size: 14px;
	letter-spacing: 0.05em;
	color: var(--muted);
	text-align: right;
}

.hard-chart-container {
	width: 100%;
	height: calc(var(--hard-chart-rows) * var(--hard-chart-row-height));
}

.chart-container {
	width: 100%;
	height: var(--soft-chart-height);
}

.bubble-chart {
	position: relative;
	width: 100%;
	height: 100%;
}

.bubble-chart canvas {
	position: relative;
	z-index: 1;
}

.bubble-overlay {
	position: absolute;
	inset: 0;
	z-index: 2;
	pointer-events: none;
	overflow: visible;
}

.bubble-labels {
	position: absolute;
	inset: 0;
	z-index: 3;
	pointer-events: none;
}

.bubble-label {
	position: absolute;
	color: var(--icon);
	font-size: 14px;
	line-height: 1.1;
	font-family: var(--font-sans);
}

.chart-container canvas {
	width: 100% !important;
	height: 100% !important;
	display: block;
	transform: translateX(var(--soft-chart-offset-x));
}

ul {
	margin: 0;
	padding-left: 18px;
}

.skill-group {
	padding: 12px 0;
	border-bottom: 1px solid var(--border-subtle);
}

.skill-group:last-child {
	border-bottom: none;
}

.timeline-item {
	padding: var(--space-section-item) 0;
	border-bottom: 1px solid var(--border-subtle);
}

.timeline-item:last-child {
	border-bottom: none;
}

.timeline-meta {
	margin: 4px 0 8px;
	color: var(--muted);
	font-size: 13px;
	/* font-family: var(--font-mono); */
	letter-spacing: 0.02em;
}

/* ---------------- Responsive ---------------- */

@media (max-width: 900px) {
	.cv-container {
		padding: 24px;
	}

	.cv-header,
	.cv-body {
		grid-template-columns: 1fr;
	}

	.cv-header {
		grid-template-rows: none;

		.header-title {
			grid-row: 1;
		}

		.quick-contact li:nth-child(1) {
			grid-row: 2;
		}

		.quick-contact li:nth-child(2) {
			grid-row: 3;
		}
		row-gap: 16px;
	}

	.header-left,
	.header-title,
	.quick-contact li,
	.about {
		grid-column: 1;
		grid-row: auto;
	}

	.quick-contact {
		display: grid;
		gap: var(--contact-row-gap);
	}

	.header-divider,
	.page-divider {
		display: none;
	}
}
